digraph state_machine {
	rankdir = LR;
	node [ shape = circle, style = bold, fontname = "Helvetica-Bold" ];
	initial [ shape = point, width=0.2 ];
	initial -> start;

#define COLOR(c)   color=c,fontcolor=c
#define RED        COLOR(red)
#define BLUE       COLOR(blue)
#define GREEN      COLOR(green)
#define DODGERBLUE COLOR(dodgerblue)

#define REMOVE_PARENS(...) __VA_ARGS__
#define STRING(s) #s

#define STATE(name, attrs) name [ label = STRING(name), REMOVE_PARENS attrs ]
#include "config.h"

#define TRANS(initial, event, final, attrs) initial -> final [ label = STRING(event), fontname = "Helvetica", REMOVE_PARENS attrs ];
#define TRANS_ACTION(initial, event, final, attrs, action) initial -> final [ label = STRING(event / action), fontname = "Helvetica", REMOVE_PARENS attrs ];
#include "config.h"
}

